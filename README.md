<h1 align="center">
  <a href="https://github.com/china-wangyu/TRR">
   <img src="https://china-wangyu.github.io//TRR/TRR-logo.png" alt="TRR" width="600"/>
  </a>
  <br>
  TRR
</h1>

<p align="center">
  <img src="https://img.shields.io/badge/PHP-%3E%3D7.1-blue.svg" alt="php version" data-canonical-src="https://img.shields.io/badge/PHP-%3E%3D7.1-blue.svg" style="max-width:100%;"></a>
  <a href="https://www.kancloud.cn/manual/thinkphp5_1/353946" rel="nofollow"><img src="https://img.shields.io/badge/ThinkPHP-5.1.*-green.svg" alt="ThinkPHP version" data-canonical-src="https://img.shields.io/badge/ThinkPHP-5.1.*-green.svg" style="max-width:100%;"></a>
  <img src="https://img.shields.io/badge/license-license--2.0-lightgrey.svg" alt="LISENCE" data-canonical-src="https://img.shields.io/badge/license-license--2.0-lightgrey.svg" style="max-width:100%;"></a>
</p>

# ç®€ä»‹

## TRR æ˜¯ä»€ä¹ˆï¼Ÿ

`TRR`æ˜¯`ThinkPHP51 Reflection Restful API`ï¼ˆæ³¨ï¼šAPIè®¾è®¡é£æ ¼ï¼‰ çš„å­—æ¯ç¬¬ä¸€ä¸ªå­—ç¬¦å¤§å†™åæ‹¼æ¥è€Œæ¥ï¼Œ
ä»`ThinkPHP51 Reflection Restful API`å…¨ç§°å¯ä»¥çœ‹å‡ºæ¥ï¼Œ
è¿™å¥—æ¥å£æ¡†æ¶è®¾è®¡ä¸»è¦å›´ç»•`åå°„`æ¥åš`Restful APIæ¥å£è®¾è®¡`çš„ã€‚

## TRR å¯ä»¥åšä»€ä¹ˆï¼Ÿ

1. ä½ å¯ä»¥å…ˆäº†è§£ä¸€ä¸‹`ThinkPHP5.1`èƒ½åšä»€ä¹ˆã€‚
2. `ThinkPHP5.1` èƒ½åšçš„éƒ½èƒ½åšï¼Œè€Œä¸”åœ¨åå°„è·¯ç”±æ–¹é¢ï¼Œæˆ‘ä»¬æ¯”`ThinkPHP5.1`æ›´ä¸ºä¸“æ³¨

ä¸“æ³¨åšä»€ä¹ˆ:

* åå°„ API æ¥å£è·¯ç”±
* åå°„ API æ¥å£æ–‡æ¡£ç”Ÿæˆ
* åå°„ API å‚æ•°å¿«é€ŸéªŒè¯
* è®©æ¥å£å¼€å‘æ›´ç®€å•ã€ç›´è§‚ã€è¿…æ·
* è®©æ¥å£ç»´æŠ¤æ›´è½»æ¾ã€æ˜äº†ã€å¿«é€Ÿ

æˆ‘ä»¬ä¸“æ³¨ç ”ç©¶PHPåå°„ç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼Œæƒ³è®©`PHP` `web`åŠŸèƒ½å¼€å‘ã€æ¥å£å¼€å‘æ›´åŠ ç®€å•ã€è¿…æ·ã€‚

æƒ³è®©æ›´å¤šçš„æœ‹å‹æ›´åŠ ä¸“æ³¨äºä¸šåŠ¡å¼€å‘ï¼Œä¸å†åå¤å»åšè·¯ç”±æ·»åŠ ã€ä¿®æ”¹ï¼Œæ¥å£æ–‡æ¡£ç¼–å†™ç­‰ä¸€äº›åˆ—çš„é—®é¢˜
 
æˆ‘ä»¬åªæƒ³ä½ çš„é¡¹ç›®æ›´å¿«ã€æ›´ç¨³å®šã€æ›´ä»¥ç»´æŠ¤çš„æˆå‹ã€‚


## ä½¿ç”¨æ–‡æ¡£

> æ ‡æ³¨ï¼š `master` åˆ†æ”¯å±äº `TRR-v0.0.2`

TRR-v0.0.1æ–‡æ¡£ï¼š[ğŸ‘‰ ç‚¹æˆ‘äº†è§£](https://china-wangyu.github.io/views/php/trr/v0.0.1/)

TRR-v0.0.2æ–‡æ¡£ï¼š[ğŸ‘‰ ç‚¹æˆ‘äº†è§£](https://china-wangyu.github.io/views/php/trr/v0.0.2/)

æœªå®Œå¾…ç»­Â·Â·Â·Â·Â·

## å¿«é€Ÿå¼€å§‹

åœ¨ä½ é¡¹ç›®æ–‡ä»¶å¤¹å†…,ç‚¹å‡»é¼ æ ‡å³é”® æ‰“å¼€ `git Bash Here`

åœ¨ `git bash` å‘½ä»¤è¡Œé‡Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤

### 1. æ£€æŸ¥æœåŠ¡ç«¯å¿…å¤‡ç¯å¢ƒ

* å®‰è£…`PHP`ç¯å¢ƒ(version: `7.1` åŠä»¥ä¸Š)
* å®‰è£…`Git`ç¯å¢ƒ(version: `1.8` åŠä»¥ä¸Š)
* å®‰è£…`Composer`ç¯å¢ƒ(version: `1.8` åŠä»¥ä¸Š)

### 2. è·å–é¡¹ç›®æºç 

è·å–é¡¹ç›®æºç 

```bash
git clone https://github.com/china-wangyu/TRR.git
```

åœ¨è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd TRR
```

### 3. å®‰è£…é¡¹ç›®ä¾èµ–

å®‰è£…ä¾èµ–

```bash
composer install
```

### 4. è¿è¡Œé¡¹ç›®

ä¸ºäº†é˜²æ­¢PHPå„ç§é›†æˆå’Œéé›†æˆè½¯ä»¶ç¯å¢ƒé—®é¢˜ï¼Œæœ¬é¡¹ç›®å¼€å‘æœŸé—´å¸Œæœ›å„ä½ä½¿ç”¨ `ThinkPHP5.1`å†…ç½®æœåŠ¡
æœ‰å…³æ–‡æ¡£: [https://www.kancloud.cn/manual/thinkphp5_1/518750](https://www.kancloud.cn/manual/thinkphp5_1/518750)

```bash
php think run -H 127.0.0.1 -p 8000
```

æ•ˆæœå¦‚ä¸‹ï¼Œå°±ä»£è¡¨ä½ å¯åŠ¨å†…ç½®æœåŠ¡æˆåŠŸäº†

```bash
wy@Mac TRR (master) $ php think run -H 127.0.0.1 -p 8000
ThinkPHP Development server is started On <http://127.0.0.1:8000/>
You can exit with `CTRL-C`
Document root is: /Users/wy/Desktop/TRR/public
[Mon Jul 29 16:39:08 2019] Failed to listen on 127.0.0.1:8000 (reason: Address already in use)
```

### 5. æµè§ˆå™¨è®¿é—®

ç„¶åä½ å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨é‡Œé¢è®¿é—®

```
http://127.0.0.1:8000/
```


## å…¶ä»–åŠŸèƒ½

### åˆ›å»º `JWT` çš„ `Token`

route: `http://127.0.0.1:8000/auth?name=trr&password=trr`

method: `post`

è¿”å›æ•ˆæœï¼š

```json
{
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJUUlIiLCJpYXQiOjE1NjI0MDk2MDgsImV4cCI6MTU2MjQxNjgwOCwidXVpZCI6MTAwLCJzaWduYXR1cmUiOiJ0cnIifQ.MXXGcK2xjAznzcC-PQ66dRAo30Wn1poNLCNbFcO7ORA",
    "refresh_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJUUlIiLCJpYXQiOjE1NjI0MDk2MDgsInV1aWQiOjEwMCwic2lnbmF0dXJlIjoidHJyIn0.RBs5iOSTjC89Z6H4CPl9tNyXHOhtmuPQPd7JOB_n5JY"
}
```

### åˆ·æ–° `JWT` çš„ `Token`

route: `http://127.0.0.1:8000/auth/refresh`

method: `get`

header: éœ€è¦è®¾ç½®ï¼š`authorization`

è¿”å›æ•ˆæœï¼š

```json
{
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJUUlIiLCJpYXQiOjE1NjI0MTE0OTMsImV4cCI6MTU2MjQxODY5MywidXVpZCI6MTAwLCJzaWduYXR1cmUiOiJ0cnIifQ.4siwrzghm-r_SZNz-SUwkI3Of-9Hx9vOHMYdHXjf7rA"
}
```

### ç”Ÿæˆ `markdown` æ ¼å¼çš„ `API` æ–‡æ¡£

- å‘½ä»¤è¡Œç”Ÿæˆ

    åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰“å¼€ `cmd` æˆ– `ç»ˆç«¯` è¾“å…¥ä»¥ä¸‹å‘½ä»¤
    
    ```bash
    php think trr:doc
    ```
    
    æ•ˆæœå¦‚ä¸‹ï¼Œä»£è¡¨æ–‡æ¡£ç”ŸæˆæˆåŠŸï¼š
    
    ```bash
    F:\project\open-source-object\Trr\2019-7-6\TRR [master â‰¡ +0 ~217 -0 !]
    Î»  php think trr:doc
    Successful. Output Document Successful . File Path ï¼šapi-doc.html
    ```
 
æ³¨æ„ ï¼
æ³¨æ„ !
æ³¨æ„ !

## æ¼”ç¤ºåœ°å€ 

* å®˜æ–¹è¿è¡Œç¤ºä¾‹: [æ¼”ç¤ºç«™ç‚¹](http://trr.ibs3.cn)
* å®˜æ–¹`API Markdownæ–‡æ¡£`ç¤ºä¾‹: [æ¼”ç¤ºç«™ç‚¹](http://trr.ibs3.cn/apiShow)
* å®˜æ–¹`API Htmlæ–‡æ¡£`ç¤ºä¾‹: [æ¼”ç¤ºç«™ç‚¹](http://trr.ibs3.cn/apiView)
* æœ¬åœ°è¿è¡Œç¤ºä¾‹: http://127.0.0.1:8000/
* æœ¬åœ°`API Markdownæ–‡æ¡£`ç¤ºä¾‹: http://127.0.0.1:8000/apiShow
* æœ¬åœ°`API Htmlæ–‡æ¡£`ç¤ºä¾‹: http://127.0.0.1:8000/apiView


## å‚¬æ›´ã€æé—®ä¸äº¤æµ

è¯»è€…å¯¹æœ¬æ•™ç¨‹æˆ–è€…GitHubé¡¹ç›®æœ‰ä»»ä½•ç–‘é—®ã€å»ºè®®éƒ½å¯ä»¥åœ¨ä½œè€…GitHubä»“åº“æä¸ª[issues](https://github.com/china-wangyu/TRR/issues)  

æˆ–

åŠ ã€TRR å®˜æ–¹ç¾¤ã€‘QQç¾¤: `860613750`


## ä¸‹é˜¶æ®µå¼€å‘è®¡åˆ’

- [ ] æ³¨è§£æ¥å£è‡ªæ£€ï¼ˆæ¥å£ä¸€é”®éªŒè¯ï¼‰
- [x] æ³¨è§£æ¥å£æ–‡æ¡£ç”Ÿæˆ
- [x] æ³¨è§£éªŒè¯å™¨åœºæ™¯
- [x] æ³¨è§£éªŒè¯å™¨
- [x] æ³¨è§£è·¯ç”±åˆ†ç»„
- [x] æ³¨è§£ä¸­é—´ä»¶
- [x] æ³¨è§£è·¯ç”±

